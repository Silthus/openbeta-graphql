{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Area",
  "type": "object",
  "properties": {
    "area_name": {
      "type": "string"
    },
    "shortCode": {
      "type": "string"
    },
    "climbs": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "children": {
      "type": "array",
      "items": {
        "oneOf": [
          {
            "type": "string",
            "format": "uuid"
          },
          {
            "$ref": "#/definitions/Area"
          }
        ]
      }
    },
    "ancestors": {
      "type": "string"
    },
    "pathTokens": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
  "gradeContext": {
    "type": "string",
    "enum": ["ALSK", "AU", "BRZ", "FIN", "FR", "HK", "NWG", "POL", "SA", "SWE", "SX", "UIAA", "UK", "US"],
    "_comment": "gradeContext sets grading system for climbing/bouldering (respectively). US = YDS/Vscale, FR = French/Fontainebleau, UIAA = UIAA/Fontainebleau",
    "aggregate": {
      "type": "object",
      "properties": {
        "byGrade": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "count": {
                "type": "number"
              },
              "label": {
                "type": "string"
              }
            },
            "required": ["count", "label"]
          }
        },
        "byDiscipline": {
          "type": "object"
        },
        "byGradeBand": {
          "type": "object",
          "properties": {
            "unknown": {
              "type": "number"
            },
            "beginner": {
              "type": "number"
            },
            "intermediate": {
              "type": "number"
            },
            "advanced": {
              "type": "number"
            },
            "expert": {
              "type": "number"
            }
          },
          "required": ["unknown", "beginner", "intermediate", "advanced", "expert"]
        }
      },
      "required": ["byGrade", "byDiscipline", "byGradeBand"]
    },
    "metadata": {
      "type": "object",
      "properties": {
        "isDestination": {
          "type": "boolean"
        },
        "leaf": {
          "type": "boolean"
        },
        "isBoulder": {
          "type": "boolean"
        },
        "lnglat": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": ["Point"]
            },
            "coordinates": {
              "type": "array",
              "items": {
                "type": "number"
              },
              "minItems": 2,
              "maxItems": 2
            }
          }
        },
        "bbox": {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 4,
          "maxItems": 4
        },
        "leftRightIndex": {
          "type": "number"
        },
        "ext_id": {
          "type": "string"
        },
        "area_id": {
          "type": "string"
        }
      },
      "required": ["area_id"]
    },
    "content": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string"
        }
      }
    },
    "density": {
      "type": "number"
    },
    "totalClimbs": {
      "type": "number"
    },
    "_change": {
      "type": "object"
    },
    "_deleting": {
      "type": "string",
      "format": "date-time"
    },
    "updatedBy": {
      "type": "object"
    },
    "createdBy": {
      "type": "object"
    }
  },
  "required": ["area_name"]
}